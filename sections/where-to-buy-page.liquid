<section class="where-to-buy-page">
  <div class="container">
    <!-- Header -->
    <div class="page-header">
      {% if section.settings.badge != blank %}
        <span class="page-badge">{{ section.settings.badge }}</span>
      {% endif %}
      {% if section.settings.heading != blank %}
        <h1 class="page-heading serif">{{ section.settings.heading }}</h1>
      {% endif %}
      {% if section.settings.description != blank %}
        <p class="page-description">{{ section.settings.description }}</p>
      {% endif %}
    </div>

    <!-- Main Grid -->
    <div class="buy-grid">
      <!-- Amazon Store Card -->
      <div class="amazon-card">
        <div class="amazon-logo">
          <img
            src="https://upload.wikimedia.org/wikipedia/commons/a/a9/Amazon_logo.svg"
            alt="Amazon"
            width="120"
            height="40"
          >
        </div>
        <h2 class="card-heading serif">{{ section.settings.amazon_title | default: 'Official Brand Store' }}</h2>
        <p class="card-text">{{ section.settings.amazon_description }}</p>

        <div class="features-list">
          {% if section.settings.feature_1 != blank %}
            <div class="feature">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="20"
                height="20"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2.5"
              >
                <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                <polyline points="22 4 12 14.01 9 11.01"></polyline>
              </svg>
              <span>{{ section.settings.feature_1 }}</span>
            </div>
          {% endif %}
          {% if section.settings.feature_2 != blank %}
            <div class="feature">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="20"
                height="20"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2.5"
              >
                <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                <polyline points="22 4 12 14.01 9 11.01"></polyline>
              </svg>
              <span>{{ section.settings.feature_2 }}</span>
            </div>
          {% endif %}
          {% if section.settings.feature_3 != blank %}
            <div class="feature">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="20"
                height="20"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2.5"
              >
                <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                <polyline points="22 4 12 14.01 9 11.01"></polyline>
              </svg>
              <span>{{ section.settings.feature_3 }}</span>
            </div>
          {% endif %}
        </div>

        {% if section.settings.amazon_link != blank %}
          <a href="{{ section.settings.amazon_link }}" target="_blank" rel="noopener noreferrer" class="amazon-btn">
            Shop All Products
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="20"
              height="20"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path>
              <polyline points="15 3 21 3 21 9"></polyline>
              <line x1="10" y1="14" x2="21" y2="3"></line>
            </svg>
          </a>
        {% endif %}
      </div>

      <!-- Wholesale Card -->
      <div class="wholesale-card">
        <div class="wholesale-bg"></div>
        <div class="wholesale-icon">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="36"
            height="36"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
          >
            <line x1="16.5" y1="9.4" x2="7.5" y2="4.21"></line>
            <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path>
            <polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline>
            <line x1="12" y1="22.08" x2="12" y2="12"></line>
          </svg>
        </div>
        <h2 class="card-heading serif">{{ section.settings.wholesale_title | default: 'Wholesale & Industrial' }}</h2>
        <p class="card-text wholesale-text">{{ section.settings.wholesale_description }}</p>

        {% if section.blocks.size > 0 %}
          <ul class="wholesale-list">
            {% for block in section.blocks %}
              {% case block.type %}
                {% when 'wholesale_item' %}
                  <li {{ block.shopify_attributes }}>
                    <div class="list-title serif">{{ block.settings.title }}</div>
                    <div class="list-subtitle">{{ block.settings.subtitle }}</div>
                  </li>
              {% endcase %}
            {% endfor %}
          </ul>
        {% endif %}

        {% if section.settings.wholesale_link != blank %}
          <a href="{{ section.settings.wholesale_link }}" class="wholesale-btn">
            {{ section.settings.wholesale_button_text | default: 'Inquire About Bulk Orders' }}
          </a>
        {% endif %}
      </div>
    </div>

    <!-- Global Section -->
    {% if section.settings.show_global_section %}
      <div class="global-section">
        <h3 class="global-heading serif">{{ section.settings.global_heading | default: 'Global Footprint' }}</h3>
        <p class="global-text">
          {{
            section.settings.global_text
            | default: 'Proudly manufactured in the United States and exported to professional users across six continents.'
          }}
        </p>
        <div class="global-map">
          {% if section.settings.global_image != blank %}
            <img
              src="{{ section.settings.global_image | image_url: width: 1600 }}"
              alt="Global Distribution"
              width="1600"
              height="686"
            >
          {% endif %}
          <div class="map-overlay">International Distribution Network</div>
        </div>
      </div>
    {% endif %}
  </div>
</section>

<style>
  .where-to-buy-page {
    padding: 10rem 0 8rem;
  }

  .page-header {
    text-align: center;
    margin-bottom: 8rem;
  }

  .page-badge {
    color: var(--color-accent);
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.4em;
    font-size: 0.75rem;
    margin-bottom: 2rem;
    display: block;
  }

  .page-heading {
    font-size: clamp(3rem, 8vw, 6rem);
    font-weight: 700;
    margin-bottom: 2.5rem;
    line-height: 1.2;
  }

  .page-description {
    font-size: 1.25rem;
    color: rgba(26, 46, 38, 0.6);
    max-width: 42rem;
    margin: 0 auto;
    font-weight: 300;
    line-height: 1.6;
  }

  .buy-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 4rem;
    margin-bottom: 12rem;
  }

  @media (min-width: 1024px) {
    .buy-grid {
      grid-template-columns: 1fr 1fr;
    }
  }

  .amazon-card {
    background-color: white;
    border-radius: 4rem;
    box-shadow: 0 50px 100px -20px rgba(26, 46, 38, 0.1);
    border: 1px solid rgba(26, 46, 38, 0.05);
    padding: 4rem;
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    transition: all 0.3s;
  }

  .amazon-card:hover {
    box-shadow: 0 60px 120px -20px rgba(26, 46, 38, 0.15);
  }

  .amazon-logo {
    height: 4rem;
    margin-bottom: 3rem;
    display: flex;
    align-items: center;
  }

  .amazon-logo img {
    height: 2.5rem;
    opacity: 0.8;
  }

  .card-heading {
    font-size: 1.875rem;
    font-weight: 700;
    margin-bottom: 2rem;
  }

  .card-text {
    font-size: 1.125rem;
    color: rgba(26, 46, 38, 0.7);
    margin-bottom: 3rem;
    line-height: 1.6;
    font-weight: 300;
  }

  .features-list {
    width: 100%;\n    text-align: left;
    background-color: transparent;
    padding: 0;
    margin-bottom: 3rem;
    display: flex;
    flex-direction: column;
    gap: 1rem;
  }

  .feature {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 1.25rem;
    background-color: var(--color-background);
    border-radius: 1rem;
    font-size: 0.9375rem;
  }

  .feature svg {
    flex-shrink: 0;
    color: var(--color-secondary);
    width: 20px;
    height: 20px;
  }

  .feature span {
    font-weight: 500;
    color: var(--color-primary);
    opacity: 0.9;
  }

  .amazon-btn {
    width: 100%;
    background-color: var(--color-primary);
    color: white;
    padding: 1.75rem;
    border-radius: 2rem;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.75rem;
    font-size: 1.5rem;
    font-weight: 700;
    text-decoration: none;
    transition: all 0.3s;
  }

  .amazon-btn:hover {
    background-color: var(--color-secondary);
    transform: translateY(-2px);
  }

  .wholesale-card {
    background-color: var(--color-primary);
    color: white;
    border-radius: 4rem;
    padding: 4rem;
    display: flex;
    flex-direction: column;
    box-shadow: 0 30px 80px -10px rgba(26, 46, 38, 0.3);
    position: relative;
    overflow: hidden;
  }

  .wholesale-bg {
    position: absolute;
    top: 0;
    right: 0;
    width: 16rem;
    height: 16rem;
    background-color: rgba(255, 255, 255, 0.05);
    border-radius: 50%;
    transform: translate(50%, -50%);
    transition: transform 0.7s;
  }

  .wholesale-card:hover .wholesale-bg {
    transform: translate(50%, -50%) scale(1.25);
  }

  .wholesale-icon {
    background-color: var(--color-accent);
    width: 5rem;
    height: 5rem;
    border-radius: 1.5rem;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 2.5rem;
    box-shadow: 0 10px 30px -5px rgba(0, 0, 0, 0.3);
  }

  .wholesale-text {
    color: rgba(255, 255, 255, 0.6);
  }

  .wholesale-list {
    list-style: none;
    margin: 2rem 0;
    flex-grow: 1;
  }

  .wholesale-list li {
    padding-bottom: 2rem;
    margin-bottom: 2rem;
    border-bottom: 1px solid rgba(255, 255, 255, 0.05);
  }

  .wholesale-list li:last-child {
    border-bottom: none;
    padding-bottom: 0;
    margin-bottom: 0;
  }

  .list-title {
    font-weight: 700;
    font-size: 1.25rem;
    margin-bottom: 0.5rem;
  }

  .list-subtitle {
    font-size: 0.875rem;
    opacity: 0.4;
    font-style: italic;
    font-weight: 300;
  }

  .wholesale-btn {
    background-color: white;
    color: var(--color-primary);
    padding: 1.75rem;
    border-radius: 2rem;
    display: flex;
    align-items: center;
    justify-center;
    gap: 0.75rem;
    font-size: 1.5rem;
    font-weight: 700;
    text-decoration: none;
    transition: all 0.3s;
    box-shadow: 0 10px 30px -5px rgba(0, 0, 0, 0.2);
    text-align: center;
  }

  .wholesale-btn:hover {
    background-color: var(--color-accent);
    color: white;
  }

  .global-section {
    text-align: center;
  }

  .global-heading {
    font-size: 1.875rem;
    font-weight: 700;
    margin-bottom: 1.5rem;
  }

  .global-text {
    color: rgba(10, 47, 32, 0.8);
    margin-bottom: 4rem;
    font-weight: 300;
    max-width: 36rem;
    margin-left: auto;
    margin-right: auto;
  }

  .global-map {
    aspect-ratio: 21/9;
    background-color: white;
    border-radius: 4rem;
    box-shadow: 0 20px 60px -10px rgba(26, 46, 38, 0.1);
    border: 1px solid rgba(26, 46, 38, 0.05);
    display: flex;
    align-items: center;
    justify-center;
    position: relative;
    overflow: hidden;
  }

  .global-map img {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    opacity: 0.4;
    transition: transform 20s;
  }

  .global-map:hover img {
    transform: scale(1.1);
  }

  .map-overlay {
    position: relative;
    font-size: 1.125rem;
    font-weight: 700;
    color: rgba(26, 46, 38, 0.2);
    text-transform: uppercase;
    letter-spacing: 0.6em;
    font-family: var(--font-heading);
  }
</style>

{% schema %}
{
  "name": "Where to Buy",
  "settings": [
    {
      "type": "header",
      "content": "Page Header"
    },
    {
      "type": "text",
      "id": "badge",
      "label": "Badge Text",
      "default": "Global Availability"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Where to Buy"
    },
    {
      "type": "textarea",
      "id": "description",
      "label": "Description",
      "default": "King Pine is accessible globally via our official Amazon Brand Storefront, offering guaranteed authenticity and accelerated shipping."
    },
    {
      "type": "header",
      "content": "Amazon Section"
    },
    {
      "type": "text",
      "id": "amazon_title",
      "label": "Amazon Title",
      "default": "Official Brand Store"
    },
    {
      "type": "textarea",
      "id": "amazon_description",
      "label": "Amazon Description"
    },
    {
      "type": "text",
      "id": "feature_1",
      "label": "Feature 1",
      "default": "Prime Fast-Track Fulfillment"
    },
    {
      "type": "text",
      "id": "feature_2",
      "label": "Feature 2",
      "default": "Commercial Size & Bulk Multi-Packs"
    },
    {
      "type": "text",
      "id": "feature_3",
      "label": "Feature 3",
      "default": "Official Factory Direct Authenticity"
    },
    {
      "type": "url",
      "id": "amazon_link",
      "label": "Amazon Store Link"
    },
    {
      "type": "header",
      "content": "Wholesale Section"
    },
    {
      "type": "text",
      "id": "wholesale_title",
      "label": "Wholesale Title",
      "default": "Wholesale & Industrial"
    },
    {
      "type": "textarea",
      "id": "wholesale_description",
      "label": "Wholesale Description"
    },
    {
      "type": "text",
      "id": "wholesale_button_text",
      "label": "Button Text",
      "default": "Inquire About Bulk Orders"
    },
    {
      "type": "url",
      "id": "wholesale_link",
      "label": "Wholesale/Contact Link"
    },
    {
      "type": "header",
      "content": "Global Section"
    },
    {
      "type": "checkbox",
      "id": "show_global_section",
      "label": "Show Global Section",
      "default": true
    },
    {
      "type": "text",
      "id": "global_heading",
      "label": "Global Heading",
      "default": "Global Footprint"
    },
    {
      "type": "text",
      "id": "global_text",
      "label": "Global Text"
    },
    {
      "type": "image_picker",
      "id": "global_image",
      "label": "Global Map Image (optional)"
    }
  ],
  "blocks": [
    {
      "type": "wholesale_item",
      "name": "Wholesale Item",
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "Title"
        },
        {
          "type": "text",
          "id": "subtitle",
          "label": "Subtitle"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Where to Buy"
    }
  ]
}
{% endschema %}
